import React from 'react';
import Cookies from 'js-cookie';
import { useDispatch } from 'react-redux';
import { updateIsMobileOpen } from '../../modules/menu';
import { Link } from 'react-router-dom';

import MobileOpnBtn from './MobileOpenBtn';
import DarkModeBtn from './DarkModeBtn';

import './scss/Header.scss';
import { check } from '../../modules/user';

const Header = ({ handleNotiToggle }) => {
  const dispatch = useDispatch();

  const handleMobileOpenBtnClick = () => {
    document.body.style.overflow = 'hidden';
    dispatch(updateIsMobileOpen(true));
  };

  const handleLogout = () => {
    Cookies.remove('AccessToken');
    dispatch(check());
  };

  return (
    <div className="headerWrap">
      <Link to="/" className="headerLogo">
        <svg className="smallLogo" viewBox="0 0 33.891 35">
          <path
            d="M732.852,329.67a6.971,6.971,0,0,1-6.951-6.484H723.61a9.273,9.273,0,0,0,18.518,0h-2.292A7,7,0,0,1,732.852,329.67Z"
            transform="translate(-715.925 -304.657)"
            fill="#48affb"
          />
          <path
            d="M732.91,333.753a11.069,11.069,0,0,1-11.038-10.567h-2.28A13.351,13.351,0,0,0,732.9,336.033h.014a13.352,13.352,0,0,0,13.31-12.847h-2.281A11.067,11.067,0,0,1,732.91,333.753Z"
            transform="translate(-715.964 -304.657)"
            fill="#48affb"
          />
          <path
            d="M732.943,337.377a14.733,14.733,0,0,1-14.665-14.191H716a17.014,17.014,0,0,0,16.908,16.471h.076a17.013,17.013,0,0,0,16.907-16.471h-2.28A14.733,14.733,0,0,1,732.943,337.377Z"
            transform="translate(-715.998 -304.657)"
            fill="#48affb"
          />
          <path
            d="M747.384,320.442h2.286a17.022,17.022,0,0,0-15.129-15.609v2.3A14.739,14.739,0,0,1,747.384,320.442Z"
            transform="translate(-715.82 -304.833)"
            fill="#48affb"
          />
          <path
            d="M730.758,307.175v-2.3a16.988,16.988,0,0,0-14.72,15.565h2.287A14.711,14.711,0,0,1,730.758,307.175Z"
            transform="translate(-715.997 -304.833)"
            fill="#48affb"
          />
          <path
            d="M732.919,311.438a.236.236,0,0,0-.325.076c-.974,1.551-5.176,8.395-5.176,11.121,0,.123,0,.245,0,.368a5.38,5.38,0,0,0,10.754-.368c0-2.73-4.2-9.569-5.177-11.121A.236.236,0,0,0,732.919,311.438Z"
            transform="translate(-715.888 -304.77)"
            fill="#ffca23"
          />
        </svg>
        <div className="headerTitle">
          Iot 기반 하수관망용 다중센서 허브 시스템
        </div>
      </Link>
      <MobileOpnBtn onClick={handleMobileOpenBtnClick} />
      <div className="headerRight">
        <DarkModeBtn />
        <div className="bellBtnWrap" onClick={handleNotiToggle}>
          {/* 알림오면 아이콘 변경 */}
          {/*  <svg className="bellIcon" viewBox="0 0 19.985 22.353">
            <g transform="translate(-15445 -3295.603)">
              <path
                d="M1004.77,935.923a1.7,1.7,0,0,0-.432-.613,2.013,2.013,0,0,0-.3-.226,2.813,2.813,0,0,0-.341-.173,1.844,1.844,0,0,1-.638-.507,3.378,3.378,0,0,1-.422-.64,5.185,5.185,0,0,1-.3-.724c-.084-.249-.153-.5-.214-.758s-.119-.529-.168-.795c-.058-.317-.1-.637-.141-.957s-.069-.645-.1-.968-.053-.642-.081-.964-.054-.626-.094-.937q-.05-.394-.138-.782t-.216-.775a8.037,8.037,0,0,0-.294-.756,7.539,7.539,0,0,0-.369-.718,6.886,6.886,0,0,0-.444-.668,6.2,6.2,0,0,0-.518-.6,5.718,5.718,0,0,0-.613-.542,5.909,5.909,0,0,0-.694-.455,6.154,6.154,0,0,0-.746-.354,6.392,6.392,0,0,0-.788-.254,3.4,3.4,0,0,0-.345-.076l-.152-.02-.11-.014c-.011,0-.054,0-.059-.009s0-.031,0-.039v-.624a.284.284,0,0,1,0-.046.061.061,0,0,1,.013-.023c.019-.028.037-.057.054-.087a1.6,1.6,0,0,0,.092-.183,1.449,1.449,0,0,0,.109-.411,1.407,1.407,0,0,0-.1-.7,1.417,1.417,0,0,0-2.716.689,1.4,1.4,0,0,0,.1.4,1.35,1.35,0,0,0,.091.183c.017.028.035.056.054.083a.3.3,0,0,1,.029.04s0,0,0,0a.187.187,0,0,1,0,.038v.625a.158.158,0,0,1,0,.045c0,.009-.017.006-.028.007l-.11.013-.157.021c-.1.015-.2.039-.3.062a6.468,6.468,0,0,0-.794.246,6.165,6.165,0,0,0-.752.346,5.887,5.887,0,0,0-.7.445,5.673,5.673,0,0,0-.625.538,6.109,6.109,0,0,0-.525.6,6.8,6.8,0,0,0-.451.662,7.462,7.462,0,0,0-.376.714,7.978,7.978,0,0,0-.3.751q-.131.382-.224.776t-.145.782c-.041.3-.068.611-.095.917-.028.323-.054.647-.082.97s-.057.642-.093.962-.081.643-.136.962c-.048.272-.1.544-.167.813-.059.254-.126.507-.207.755a5.419,5.419,0,0,1-.293.731,3.494,3.494,0,0,1-.41.65,1.963,1.963,0,0,1-.614.528c-.059.03-.121.055-.181.083s-.113.055-.167.087a2.067,2.067,0,0,0-.309.217,1.734,1.734,0,0,0-.455.592,1.915,1.915,0,0,0-.163.82,1.967,1.967,0,0,0,.176.816,1.039,1.039,0,0,0,.227.316.823.823,0,0,0,.353.19,1.924,1.924,0,0,0,.429.049c.163.005.326.008.489.012q.495.012.989.019t1,.007h12.653q.5,0,.992-.007t.992-.02l.491-.012a2,2,0,0,0,.43-.046.827.827,0,0,0,.357-.185,1.029,1.029,0,0,0,.23-.313,1.749,1.749,0,0,0,.131-.391,2.142,2.142,0,0,0,.05-.422,1.953,1.953,0,0,0-.135-.767Z"
                transform="translate(14460.08 2376.945)"
              />
              <path
                d="M958.812,553.45c1.578,0,2.857-.953,2.857-2.128h-5.715C955.954,552.5,957.234,553.45,958.812,553.45Z"
                transform="translate(14496.182 2764.506)"
              />
            </g>
          </svg> */}
          <svg
            className="bellIcon"
            xmlns="http://www.w3.org/2000/svg"
            width="20.301"
            height="22.353"
            viewBox="0 0 20.301 22.353"
          >
            <path
              d="M967.363,544.635a1.7,1.7,0,0,0-.433-.613,1.992,1.992,0,0,0-.3-.226,2.794,2.794,0,0,0-.338-.169,1.839,1.839,0,0,1-.639-.507,3.38,3.38,0,0,1-.423-.64,5.234,5.234,0,0,1-.3-.723c-.084-.248-.153-.5-.214-.76s-.119-.528-.169-.794c-.058-.317-.1-.636-.141-.957s-.068-.645-.1-.968-.053-.642-.084-.962c-.013-.136-.028-.265-.04-.4-.066,0-.131.01-.2.01a4.639,4.639,0,0,1-4.326-6.337c-.119-.037-.235-.084-.356-.114a3.484,3.484,0,0,0-.345-.076l-.152-.02-.111-.014c-.011,0-.054,0-.059-.009s0-.031,0-.039V529.7a.2.2,0,0,1,0-.046.06.06,0,0,1,.013-.023c.019-.029.037-.057.054-.084a1.689,1.689,0,0,0,.092-.183,1.47,1.47,0,0,0,.108-.41,1.417,1.417,0,1,0-2.725.391,1.271,1.271,0,0,0,.091.183c.017.028.035.056.054.084a.274.274,0,0,1,.03.04.148.148,0,0,1,0,.039v.625a.139.139,0,0,1,0,.046c0,.009-.017.006-.028.007l-.111.014-.157.021c-.1.014-.2.039-.3.063a6.516,6.516,0,0,0-.8.246,6.181,6.181,0,0,0-.752.346,5.915,5.915,0,0,0-.7.445,5.644,5.644,0,0,0-.625.537,5.961,5.961,0,0,0-.525.6,6.763,6.763,0,0,0-.451.662,7.564,7.564,0,0,0-.376.713,7.976,7.976,0,0,0-.3.75q-.131.382-.224.776c-.062.263-.111.523-.145.782-.041.3-.068.611-.095.917-.029.323-.054.646-.084.969s-.057.641-.094.961-.084.642-.137.961q-.072.408-.169.812c-.059.253-.126.507-.207.755a5.446,5.446,0,0,1-.292.731,3.531,3.531,0,0,1-.41.649,1.959,1.959,0,0,1-.614.527c-.059.03-.122.054-.182.085l-.169.085a2.01,2.01,0,0,0-.309.217,1.734,1.734,0,0,0-.455.591,1.911,1.911,0,0,0-.163.82,1.967,1.967,0,0,0,.177.815,1.037,1.037,0,0,0,.227.315.833.833,0,0,0,.353.19,1.933,1.933,0,0,0,.429.049c.163.005.326.008.489.012l.99.019q.5.009,1,.007h12.66q.5,0,.993-.007c.331-.005.663-.011.993-.019l.491-.012a2.046,2.046,0,0,0,.43-.046.835.835,0,0,0,.357-.185,1.035,1.035,0,0,0,.23-.313,1.788,1.788,0,0,0,.132-.39,2.157,2.157,0,0,0,.05-.422,1.947,1.947,0,0,0-.135-.766Z"
              transform="translate(-947.491 -527.388)"
            />
            <path
              d="M958.812,553.45c1.578,0,2.857-.953,2.857-2.128h-5.715C955.954,552.5,957.234,553.45,958.812,553.45Z"
              transform="translate(-948.803 -531.097)"
            />
            <path
              d="M966.319,528.68a3.8,3.8,0,0,0,0,7.605c.03,0,.058-.008.089-.009a3.8,3.8,0,0,0-.089-7.6Z"
              transform="translate(-949.82 -527.588)"
              fill="#fe626f"
            />
          </svg>
        </div>
        <div className="logoutWrap" onClick={handleLogout}>
          <svg className="logoutIcon" viewBox="0 0 25.691 21.635">
            <path
              d="M27.3,75.779l-9.032,8.077c-1.2,1.126-1.731.8-1.731-.414V78.033H8.874a1.349,1.349,0,0,1-1.352-1.352V72.962A1.349,1.349,0,0,1,8.874,71.61h7.662V66.2c0-1.206.581-1.736,1.731-.62L27.3,73.864A1.364,1.364,0,0,1,27.3,75.779ZM12.817,84.963V83.554a.678.678,0,0,0-.676-.676H7.409A3.579,3.579,0,0,1,4.761,80.23V69.413a3.579,3.579,0,0,1,2.648-2.648h4.733a.678.678,0,0,0,.676-.676V64.68A.678.678,0,0,0,12.141,64H7.409A5.41,5.41,0,0,0,2,69.413V80.23a5.41,5.41,0,0,0,5.409,5.409h4.733A.678.678,0,0,0,12.817,84.963Z"
              transform="translate(-2 -64.004)"
            />
          </svg>
        </div>
      </div>
    </div>
  );
};

export default Header;
